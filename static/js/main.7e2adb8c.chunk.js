(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{28:function(e,t,a){e.exports=a(46)},38:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(25),l=a.n(r),c=(a(33),a(34),a(35),a(38),a(12)),i=a(13),o=a(15),m=a(14),u=a(16),d=a(6),h=a(47),g=a(48),p=a(49),E=a(50),f=a(51),w=a(52),b=a(59),v=a(53),y=function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{fluid:!0},s.a.createElement(g.a,{className:"justify-content-center text-center"},s.a.createElement(p.a,{xs:12,md:8,lg:6},s.a.createElement(E.a,{onSubmit:function(e){return function(e){window.location="/weather/"+document.getElementById("city").value,e.preventDefault()}(e)}},s.a.createElement(f.a,{size:"lg"},s.a.createElement(w.a,{placeholder:"Enter Location",id:"city"}),s.a.createElement(b.a,{addonType:"append"},s.a.createElement(v.a,{type:"submit"}," Go ")))),s.a.createElement("hr",null)," ",s.a.createElement("h5",null,"or")," ",s.a.createElement("hr",null),s.a.createElement(v.a,{onClick:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){console.log(e),window.location="/weather/".concat(e.coords.latitude,"/").concat(e.coords.longitude)},function(e){return alert(e.message)})},block:!0,size:"lg"},"Use Current Location")))))},x=a(11),k=a(56),N=a(57),j=a(54),C=a(55),O=a(58),S={"01d":"/assets/images/clearSky.svg","01n":"/assets/images/clearSkyNight.svg","02d":"/assets/images/fewClouds.svg","02n":"/assets/images/fewCloudsNight.svg","03d":"/assets/images/scatteredClouds.svg","03n":"/assets/images/scatteredClouds.svg","04d":"/assets/images/brokenClouds.svg","04n":"/assets/images/brokenClouds.svg","09d":"/assets/images/showerRain.svg","09n":"/assets/images/showerRain.svg","10d":"/assets/images/rain.svg","10n":"/assets/images/rainNight.svg","11d":"/assets/images/thunderstorm.svg","11n":"/assets/images/thunderstorm.svg","13d":"/assets/images/snow.svg","13n":"/assets/images/snow.svg","50d":"/assets/images/mist.svg","50n":"/assets/images/mist.svg",humidity:"/assets/images/humidity.svg",pressure:"/assets/images/pressure.svg",wind:"/assets/images/wind.svg",temperature:"/assets/images/thermometer.svg"},W=a(17),F=a(26),A=a.n(F),D=function(e){return Object(n.useEffect)(function(){var t=document.getElementById("chart"+e.index);new A.a(t,{type:"line",data:{labels:e.labels,datasets:[{data:e.data,backgroundColor:"rgba(186, 0, 105, 0.2)",borderColor:"rgba(186, 0, 105, 1)",borderWidth:3,label:"weather in "+e.units}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,fontColor:"rgba(186, 0, 105, 1)",fontStyle:"bold",fontSize:12},gridLines:{color:"rgba(186, 0, 105, 0.2)",linewidth:1}}],xAxes:[{gridLines:{color:"rgba(255, 255, 255, 0)",linewidth:1},ticks:{beginAtZero:!0,fontColor:"rgba(186, 0, 105, 1)",fontSize:12,fontStyle:"bold"}}]},legend:{labels:{fontColor:"rgba(186, 0, 105, 1)",fontStyle:"bold"}},elements:{line:{tension:0}}}})}),s.a.createElement("canvas",{id:"chart"+e.index})},I=function(e){var t=e.index,a=function(t){return t.reduce(function(e,t){return e+t},0)/e.data.temp.length},n=a(e.data.temp),r=a(e.data.humidity),l=a(e.data.pressure),c=a(e.data.wind),i=function(e,t,a,n){return s.a.createElement(j.a,{className:"shadow mt-2"},s.a.createElement(C.a,null,s.a.createElement(g.a,{className:"align-items-center"},s.a.createElement(p.a,{xs:4},s.a.createElement("img",{src:e,className:"w-100 img-fluid",alt:t})),s.a.createElement(p.a,{xs:8,className:"text-center"},s.a.createElement("h4",null,a," ",s.a.createElement("span",{className:"h6"},n)),s.a.createElement("p",null,t)))))};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"heading"+t},s.a.createElement("a",{className:"d-block header-link","data-toggle":"collapse",href:"#collapse"+t,"aria-expanded":"false","aria-controls":"collapse"+t},s.a.createElement(h.a,{fluid:!0},s.a.createElement(j.a,{className:"shadow mt-2"},s.a.createElement(C.a,null,s.a.createElement(g.a,{className:"align-items-center"},s.a.createElement(p.a,{xs:4,sm:2,lg:1},s.a.createElement("img",{src:S.temperature,alt:"temperature",className:"img-fluid"})),s.a.createElement(p.a,{xs:8},s.a.createElement("h3",null,n.toFixed(2)," ",e.units),s.a.createElement("h6",null,e.date_txt)))))))),s.a.createElement("div",{id:"collapse"+t,className:"collapse "+(1===t?"show":""),"aria-labelledby":"heading"+t,"data-parent":"#accordion"},s.a.createElement(h.a,{fluid:!0},s.a.createElement(g.a,null,s.a.createElement(p.a,{xs:12,lg:6},s.a.createElement(j.a,{className:"shadow mt-2 h-100"},s.a.createElement(C.a,{className:"row align-items-center"},s.a.createElement(D,{index:t,data:e.data.temp,labels:e.data.times,units:e.units})))),s.a.createElement(p.a,{xs:12,lg:6,className:"mt-3 mt-lg-0 d-none d-md-block"},s.a.createElement(g.a,null,e.data.descriptions.map(function(t,a){return s.a.createElement(p.a,{xs:12,md:6,key:a},i(S[e.data.icons[a]],t,e.data.times[a],""))})))),s.a.createElement(g.a,{className:"mt-3 mb-3"},s.a.createElement(p.a,{xs:12,sm:6,md:4}," ",i(S.humidity,"Humidity",r.toFixed(2),"%")),s.a.createElement(p.a,{xs:12,sm:6,md:4}," ",i(S.pressure,"Pressure",l.toFixed(2),"hPA")," "),s.a.createElement(p.a,{xs:12,sm:6,md:4}," ",i(S.wind,"Wind Speed",c.toFixed(2),"m/s")," ")))))},z=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).state={forecast:null,city:e.city,lat:e.lat,lon:e.lon},a.fetchWeather=a.fetchWeather.bind(Object(x.a)(Object(x.a)(a))),a.updateWeather=a.updateWeather.bind(Object(x.a)(Object(x.a)(a))),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.state.city?"q=".concat(this.state.city):"lat=".concat(this.state.lat,"&lon=").concat(this.state.lon);this.fetchWeather(e)}},{key:"fetchWeather",value:function(e){var t=this;fetch("https://api.openweathermap.org/data/2.5/"+"forecast?".concat(e,"&appid=").concat("3bd16f97558395ca4a0e1ae091554a77","&units=metric")).then(function(e){if(e.ok)return e;throw new Error("city not found !")}).then(function(e){return e.json()}).then(function(e){t.updateWeather(e)}).catch(function(e){alert(e.message),window.location="/home"})}},{key:"updateWeather",value:function(e){var t={},a={month:"short",day:"2-digit",weekday:"short"},n={hour12:!0,hour:"numeric",minute:"numeric"};e.list.forEach(function(e){var s=new Intl.DateTimeFormat("en-US",a).format(new Date(e.dt_txt)),r=new Intl.DateTimeFormat("en-US",n).format(new Date(e.dt_txt));t[s]?(t[s].times.push(r),t[s].temp.push(e.main.temp),t[s].humidity.push(e.main.humidity),t[s].pressure.push(e.main.pressure),t[s].wind.push(e.wind.speed),t[s].descriptions.push(e.weather[0].description),t[s].icons.push(e.weather[0].icon)):t[s]={times:[r],temp:[e.main.temp],humidity:[e.main.humidity],pressure:[e.main.pressure],wind:[e.wind.speed],descriptions:[e.weather[0].description],icons:[e.weather[0].icon]}}),this.setState({forecast:t})}},{key:"render",value:function(){if(this.state.forecast){var e=[],t=1;for(var a in this.state.forecast)e.push(s.a.createElement(I,{key:t,units:String.fromCharCode(176)+"C",date_txt:a,data:this.state.forecast[a],index:t})),t++;return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{fluid:!0},s.a.createElement(g.a,{className:"justify-content-center"},s.a.createElement(p.a,{xs:12,xl:11},s.a.createElement(h.a,{fluid:!0},s.a.createElement(k.a,{className:"shadow"},s.a.createElement(N.a,{active:!0},s.a.createElement(W.b,{to:"/home"},s.a.createElement("h4",null,"Home"))),s.a.createElement(N.a,null,s.a.createElement("h4",null,"Weather")))),s.a.createElement("div",{id:"accordion"},e),s.a.createElement(h.a,{fluid:!0},s.a.createElement(j.a,{className:"shadow mt-3"},s.a.createElement(C.a,null,s.a.createElement("h5",null,"copyrights \xa9 2020"),s.a.createElement("p",null,"Icons made by ",s.a.createElement("a",{href:"https://www.flaticon.com/authors/freepik",title:"Freepik"},"Freepik")," from ",s.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"}," www.flaticon.com")))))))))}return s.a.createElement(h.a,null,s.a.createElement(g.a,null,s.a.createElement(O.a,{color:"primary"})))}}]),t}(n.Component),B=function(){return s.a.createElement("header",{className:"pt-5 pb-5"},s.a.createElement(h.a,{fluid:!0,className:"text-center"},s.a.createElement("h1",{className:"display-3"},"Mausam"),s.a.createElement("p",{className:"lead"},"your weather buddy...")))},L=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"mb-5"},s.a.createElement(B,null),s.a.createElement(d.d,null,s.a.createElement(d.b,{path:"/home",component:y}),s.a.createElement(d.b,{exact:!0,path:"/weather/:latitude/:longitude",component:function(e){var t=e.match;return s.a.createElement(z,{lat:t.params.latitude,lon:t.params.longitude})}}),s.a.createElement(d.b,{path:"/weather/:city",component:function(e){var t=e.match;return s.a.createElement(z,{city:t.params.city})}}),s.a.createElement(d.a,{to:"/home"})))}}]),t}(n.Component),_=(a(45),function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return s.a.createElement(W.a,{basename:"/weather-app"},s.a.createElement("div",{className:"App"},s.a.createElement(L,null)))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(s.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[28,1,2]]]);
//# sourceMappingURL=main.7e2adb8c.chunk.js.map